<header class="bg-primary border-b border-border_color flex items-center justify-between h-header w-full">
	<div class="flex items-center justify-between gap-4 p-4 w-full">
		<div class="flex items-center gap-4">
			<!-- <div onclick="toggleMenu()" class="burger-menu flex flex-col gap-2 items-center p-2 cursor-pointer sm:hidden">
				<div class="bar bar1"></div>
				<div class="bar bar2"></div>
				<div class="bar bar3"></div>
			</div> -->
			<label for="searchbar" class="relative inline-flex items-center text-textColor-primary gap-4 w-auto">
				<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth="{1.5}" stroke="currentColor" class="icon">
					<path
						strokeLinecap="round"
						strokeLinejoin="round"
						d="m21 21-5.197-5.197m0 0A7.5 7.5 0 1 0 5.196 5.196a7.5 7.5 0 0 0 10.607 10.607Z" />
				</svg>

				<input
					id="searchbar"
					name="searchbar"
					type="text"
					placeholder="Search"
					class="bg-primary p-2 outline-none border-b-0 border-b-border_color focus:border-b-[0.5px] not-placeholder-shown:border-b-[0.5px] w-3/4 sm:w-auto" />

				<!-- Dropdown Popup -->
				<div id="search-in-dropdown" class="absolute top-full left-0 mt-2 bg-primary border rounded shadow-md hidden z-50 w-48">
					<p class="px-4 py-2  border-b-2  border-border_color">Search in</p>
					<ul class="flex flex-col">
						<li class="search-option px-4 py-2 hover:bg-background cursor-pointer" data-target="transaction/logs">Transactions</li>
						<li class="search-option px-4 py-2 hover:bg-background cursor-pointer" data-target="reports">Reports</li>
						<li class="search-option px-4 py-2 hover:bg-background cursor-pointer" data-target="inventory">Inventory</li>
						<li class="search-option px-4 py-2 hover:bg-background cursor-pointer" data-target="warehouse">Warehouse</li>
					</ul>
				</div>
			</label>
		</div>

		<button class="cursor-pointer">
			<svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" strokeWidth="{1.5}" stroke="currentColor" class="icon">
				<path
					strokeLinecap="round"
					strokeLinejoin="round"
					d="M14.857 17.082a23.848 23.848 0 0 0 5.454-1.31A8.967 8.967 0 0 1 18 9.75V9A6 6 0 0 0 6 9v.75a8.967 8.967 0 0 1-2.312 6.022c1.733.64 3.56 1.085 5.455 1.31m5.714 0a24.255 24.255 0 0 1-5.714 0m5.714 0a3 3 0 1 1-5.714 0" />
			</svg>
		</button>
	</div>
</header>

<script>
	document.addEventListener('DOMContentLoaded', () => {
		const searchbar = document.getElementById('searchbar');
		const dropdown = document.getElementById('search-in-dropdown');

		// Show dropdown when input is focused
		searchbar.addEventListener('focus', () => {
			dropdown.classList.remove('hidden');
		});

		// Hide dropdown when clicking outside
		document.addEventListener('click', (e) => {
			if (!searchbar.contains(e.target) && !dropdown.contains(e.target)) {
				dropdown.classList.add('hidden');
			}
		});

		// Add behavior for each dropdown item
		document.querySelectorAll('.search-option').forEach((option) => {
			option.addEventListener('click', () => {
				const target = option.dataset.target;
				const query = searchbar.value.trim();
				if (query) {
					window.location.href = `/${target}?search=${encodeURIComponent(query)}`;
				}
			});
		});
	});
</script>
