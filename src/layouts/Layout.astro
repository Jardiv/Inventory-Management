---
import Sidebar from '../layouts/Sidebar.astro';
import Header from '../layouts/Header.astro';

import "/src/styles/global.css";
---

<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="UTF-8" />
		<meta name="viewport" content="width=device-width" />
		<link rel="icon" type="image/svg+xml" href="/Favicon.png" />
		<meta name="generator" content="{Astro.generator}" />
		<!-- <link rel="stylesheet" href="../src/styles/global.css"> -->
		<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet" />
		<title>Inventory Management Module</title>

		<!-- Theme initialization script - runs immediately to prevent flash -->
		<script is:inline>
			// Immediate theme initialization to prevent flash
			(function () {
				const savedTheme = localStorage.getItem("theme") || "light";
				if (savedTheme === "dark") {
					document.documentElement.classList.add("dark");
				} else {
					document.documentElement.classList.remove("dark");
				}
			})();
		</script>
	</head>

	<body class="h-[100dvh] w-[100dvw] bg-background flex text-textColor-primary overflow-hidden">
		<Sidebar />
		<div class="flex flex-col w-full">
			<Header />

			<main class="p-6 overflow-auto w-full" style="height: calc(100dvh - var(--height-header))">
				<slot />
			</main>
		</div>
		<!-- <slot /> -->

		<!-- NEON -->
		<div class="neon pointer-events-none fixed bg-[#BF00FF] dark:bg-[#8A00C4] rounded-full w-[500px] h-[500px] blur-[600px] bottom-[-250px] right-[-10rem] z-[-1]"></div>

		<!-- Include the theme management script -->
		<script src="/scripts/script.js" is:inline></script>

		<script is:inline>
			function toggleMenu() {
				const burger_menu = document.querySelector(".burger-menu");
				const sidebar = document.querySelector("aside");

				sidebar.classList.toggle("hidden");
				burger_menu.classList.contains("active") ? burger_menu.classList.remove("active") : burger_menu.classList.add("active");
			}

			function changeActive(e) {
				const nav_items = document.querySelectorAll(".nav_item");
				nav_items.forEach((item) => {
					item.classList.remove("active");
				});
				e.classList.add("active");
			}
		</script>
	</body>
</html>
